# LaTeX2HTML 2008 (1.71)
# Associate images original text with physical files.


$key = q/{lstlisting}[language=Python]classVM:{par{defld(self):'loadregister'index=self.p__':VM([#everycommandneedVM.prefixVM.ld,1,'R[1]',VM.nop,VM.bye]){lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="632" HEIGHT="344" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img6.png"
 ALT="\begin{lstlisting}[language=Python]
class VM:
\par
def ld(self):
' load registe...
... command need VM. prefix
VM.ld, 1, 'R[1]',
VM.nop, VM.bye
])
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]externuint32_tCp;slashslashcompilationpointer(freeheap){lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="29" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img14.png"
 ALT="\begin{lstlisting}[language=C++]
extern uint32_t Cp; // compilation pointer (free heap)
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]voidCbyte(uint8_tb){M[Cp++]=b;assert(Cp<Msz);}voidCcelashlengthmemcpy(&M[Cp],s,L+1);Cp+=L+1;}slashslashcompilelength+1{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="134" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img16.png"
 ALT="\begin{lstlisting}[language=C++]
void Cbyte( uint8_t b) {
M[Cp++] = b; assert(C...
... length
memcpy(&amp;M[Cp],s,L+1); Cp += L+1; } // compile length+1
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]voidset(uint32_taddr,int32_tvalue){assert(addr+3<Msz);0xFF;M[addr+2]=(value>>0x10)&0xFF;M[addr+3]=(value>>0x18)&0xFF;}{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="116" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img12.png"
 ALT="\begin{lstlisting}[language=C++]
void set(uint32_t addr, int32_t value) {
asser...
...2] = (value&#187;0x10) &amp; 0xFF;
M[addr+3] = (value&#187;0x18) &amp; 0xFF; }
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=Python]classVM:R=[0,1,2,3,4,5,6,7]#registersshared#betweenVMinstances{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="64" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img5.png"
 ALT="\begin{lstlisting}[language=Python]
class VM:
R = [0,1,2,3,4,5,6,7]  ...">|; 

$key = q/{lstlisting}[language=C]externvoidset(uint32_taddr,int32_tvalue);externuint32_tget(uint32_taddr);{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="46" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img11.png"
 ALT="\begin{lstlisting}[language=C]
extern void set(uint32_t addr, int32_t value);
extern uint32_t get(uint32_t addr);
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]intmain(){...slashslashcompilevocabularyheaderyyparse(ilerdump();slashslashdumpmemoryinto.binfileVM();slashslashrunVM}{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="116" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img19.png"
 ALT="\begin{lstlisting}[language=C++]
int main() {
... // compile vocabulary header
...
...iler
dump(); // dump memory into .bin file
VM(); // run VM
}
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]map<string,uint32_t>SymTable;slashslashsymboltable{parr*name){slashslashcompileheaderLFA();AFA();NFA(name);CFA(name);}{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="221" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img18.png"
 ALT="\begin{lstlisting}[language=C++]
map&lt;string,uint32_t&gt; SymTable; // symbol table
...
...ame) { // compile header
LFA(); AFA(); NFA(name); CFA(name); }
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C]externuint8_tM[Msz];slashslashmemoryexternuint32_tIp=0;spointerexternuint32_tCp=0;slashslashcompilationpointer(freeheap){lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="64" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img10.png"
 ALT="\begin{lstlisting}[language=C]
extern uint8_t M[Msz]; // memory
extern uint32_t ...
...ointer
extern uint32_t Cp=0; // compilation pointer (free heap)
\end{lstlisting}">|; 

$key = q/{lstlisting}0000<functionnopat0x7ff7bb790b18>0001<functionbyeat0x7ff7bb790c08>{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="46" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img3.png"
 ALT="\begin{lstlisting}
0000 &lt;function nop at 0x7ff7bb790b18&gt;
0001 &lt;function bye at 0x7ff7bb790c08&gt;
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]externvoidCbyte(uint8_t);slashslashcompilebyteexternvoompilecellexternvoidCstring(char*);slashslashcompileASCIIZstring{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="64" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img15.png"
 ALT="\begin{lstlisting}[language=C++]
extern void Cbyte( uint8_t); // compile byte
ex...
...mpile cell
extern void Cstring(char*); // compile ASCIIZ string
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]#defineopNOP0x00slashslashnop{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="64" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img23.png"
 ALT="ALT=""">|; 

$key = q/C^{++};MSF=1.6;AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="37" HEIGHT="19" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img7.png"
 ALT="$C^{++}$">|; 

$key = q/{lstlisting}[language=C++]slashslashprogramentrypoint(addrofjmpparameter)#definee(opJMP);Ccell(0);slashslash_latestLFAoflastdefinedwordCcell(0);{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="204" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img17.png"
 ALT="\begin{lstlisting}[language=C++]
// program entry point (addr of jmp parameter)
...
...JMP); Ccell(0);
// _latest LFA of last defined word
Ccell(0);
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]voidVM(){for(;;){slashslashinftyloopprintf("<comment_mit();break;default:printf("badopcodenn");abort();}printf("n");}}{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="291" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img20.png"
 ALT="\begin{lstlisting}[language=C++]
void VM() { for (;;) { // infty loop
printf(''...
...t:
printf(''bad opcode\n\n''); abort();
}
printf(''\n'');
}}
\end{lstlisting}">|; 

$key = q/{lstlisting}0000<unboundmethodVM.nop>0001<unboundmethodVM.bye>{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="46" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img4.png"
 ALT="\begin{lstlisting}
0000 &lt;unbound method VM.nop&gt;
0001 &lt;unbound method VM.bye&gt;
\end{lstlisting}">|; 

$key = q/{lstlisting}[language=C++]uint32_tget(uint32_taddr){assert(addr+3<Msz);returnM[addr+0]<<0x00|M[addr+1]<<0x08|M[addr+2]<<0x10|M[addr+3]<<0x18;}{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="99" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img13.png"
 ALT="\begin{lstlisting}[language=C++]
uint32_t get(uint32_t addr) {
assert(addr+3 &lt; ...
...addr+1]&#171;0x08 \vert \
M[addr+2]&#171;0x10 \vert M[addr+3]&#171;0x18; }
\end{lstlisting}">|; 

$key = q/{framed}Thekeyproperty:compileremph{compilesbutnotexecutesprogram}{framed};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="556" HEIGHT="44" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img1.png"
 ALT="\begin{framed}
The key property: compiler \emph{compiles but not executes program}
\end{framed}">|; 

$key = q/{lstlisting}[language=C]#defineCELLsizeof(int32_t){lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="567" HEIGHT="29" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img9.png"
 ALT="\begin{lstlisting}[language=C]
...">|; 

$key = q/{lstlisting}[language=C]#defineMsz0x1000slash*bytes*slash#defineRsz0x100#defineDsz0x10{lstlisting};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="334" HEIGHT="53" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img8.png"
 ALT="\begin{lstlisting}[language=C]
...">|; 

$key = q/{framed}InterpreterisacomputerprogramwritteninlanguageLemph{executes}programwritteninlanguageP.{framed};AAT/;
$cached_env_img{$key} = q|<IMG
 WIDTH="556" HEIGHT="63" ALIGN="BOTTOM" BORDER="0"
 SRC="|."$dir".q|img2.png"
 ALT="\begin{framed}
Interpreter is a computer program written in language L \emph{executes} program
written in language P.
\end{framed}">|; 

1;

